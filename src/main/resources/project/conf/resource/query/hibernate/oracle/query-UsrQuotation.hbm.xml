<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!--/*
 * Framework Generated Hibernate Query hbm Source
 * - USR_QUOTATION - Quotation info for additioanl user service
 */-->
<hibernate-mapping>
	<sql-query name="query.UsrQuotation.getDataSetBySearchCriteria">
	<![CDATA[
		select uqm.*,
		       (select legal_name from sys_org where org_id = uqm.provider_org_id) as provider_org_name,
		       (select count(*) from usr_quotation_d where quotation_id = uqm.quotation_id) as detail_cnt
		  from usr_quotation uqm
		 where 1 = 1
		${where_clause}
		${auto_fill}
		${order_by_clause}
	]]>
	</sql-query>
</hibernate-mapping>