<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!--/*
 * Framework Generated Hibernate Query hbm Source
 * - SYS_EXPENSE_TYPE - Expenditure Entry Type
 */-->
<hibernate-mapping>
	<sql-query name="query.SysExpenseType.getExpenseTypeDataSetByCriteria">
	<![CDATA[
		 select level,
		        connect_by_isleaf as is_leaf,
		        expense_type_id||'/'||org_category||'/'||substr(sys_connect_by_path(expense_type, '/'), 2) as path,
		        expense_type_id,
		        org_category,
		        expense_type,
		        parent_expense_type,
		        description,
		        is_apply_gst,
		        gst_percentage,
		        account_code,
		        sort_order,
		        insert_user_id,
		        to_char(insert_date, '${dateFormat}') as insert_date,
		        update_user_id,
		        to_char(update_date, '${dateFormat}') as update_date
		   from sys_expense_type
		  where org_category = '${orgCategory}'
		connect by prior expense_type = parent_expense_type
		  start with parent_expense_type is null
		    and org_category = '${orgCategory}'
		  order siblings by sort_order
	]]>
	</sql-query>

	<sql-query name="query.SysExpenseType.getMainExpenseTypeDataSetWithCommonCodeByOrgCetegory">
	<![CDATA[
		select scc.common_code,
		       scc.sort_order as scc_sort_order,
		       exp.expense_type,
		       exp.sort_order as exp_sort_order,
		       scc.description_${langCode} as description
		  from sys_common_code scc,
		       sys_expense_type exp
		 where scc.code_type = 'EXPENSE_MAIN_TYPE'
		   and scc.common_code <> '0000000000'
		   and exp.org_category(+) = '${orgCategory}'
		   and scc.common_code = exp.expense_type(+)
		 order by exp.sort_order, scc.sort_order
	]]>
	</sql-query>

	<sql-query name="query.SysExpenseType.getExpenseTypeDataSetWithCommonCodeByOrgCetegory">
	<![CDATA[
		select scc.common_code,
		       scc.sort_order as scc_sort_order,
		       exp.expense_type,
		       exp.sort_order as exp_sort_order,
		       scc.description_${langCode} as description
		  from sys_common_code scc,
		       sys_expense_type exp
		 where scc.code_type = 'EXPENSE_SUB_TYPE'
		   and scc.common_code <> '0000000000'
		   and exp.org_category(+) = '${orgCategory}'
		   and scc.common_code = exp.expense_type(+)
		 order by exp.sort_order, scc.sort_order
	]]>
	</sql-query>
</hibernate-mapping>