<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!--/*
 * Framework Generated Hibernate Query hbm Source
 * - USR_BANK_ACCNT - Bank account info by user
 */-->
<hibernate-mapping>
	<sql-query name="query.UsrBankAccnt.getDataSetBySearchCriteria">
	<![CDATA[
		select uba.*,
		       (select description_${langCode} from sys_common_code where code_type = 'BANK_TYPE' and common_code = uba.bank_code) as bank_name
		  from usr_bank_accnt uba
		 where 1 = 1
		${auto_fill}
		${order_by_clause}
	]]>
	</sql-query>

	<sql-query name="query.UsrBankAccnt.getDataSetSearchCriteriaByUserId">
	<![CDATA[
		select bank_accnt_id,
		       bank_code,
		       (select description_en from sys_common_code where code_type = 'BANK_TYPE' and common_code = bank_code)
		       ||' [BSB: '||
		       regexp_replace(bsb, '(.{3})(.{3})', '\1 \2')||' | '
		       ||'ACC: '||
		       accnt_number
		       ||']' as description
		  from usr_bank_accnt
		 where 1 = 1
		${auto_fill}
		${order_by_clause}
	]]>
	</sql-query>
</hibernate-mapping>